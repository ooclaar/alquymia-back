{% extends "base.html" %}

{% block content %}
<div class="user-profile-page">
    <!-- User Hero -->
    <div class="user-hero">
        <div class="badge">4ª EDIÇÃO</div>
        <h1 class="user-title">Perfil do Usuário</h1>
        <p class="user-subtitle">Detalhes sobre estatísticas e conquistas</p>
    </div>

    <!-- User Profile Section -->
    <section class="user-profile-container">
        <!-- User Card -->
        <div class="user-card">
            <div class="user-avatar">
                👤
            </div>
            <div class="user-info">
                <h2 class="user-name">{{ user.name }}</h2>
                <div class="user-meta">
                    <div class="user-meta-item">
                        🏆 {{ account.score if account.score else 0 }} pontos
                    </div>
                    {% if user.team_id %}
                    <div class="user-meta-item">
                        👥 Equipe: <a href="{{ url_for('teams.public', team_id=user.team_id) }}">{{ user.team.name }}</a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Statistics Section -->
        <div class="profile-section">
            <h2 class="section-title">📊 Estatísticas</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">✅</div>
                    <div class="stat-value">{{ user.solves|length if user.solves else 0 }}</div>
                    <div class="stat-label">Solves</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">🏆</div>
                    <div class="stat-value">{{ account.score if account.score else 0 }}</div>
                    <div class="stat-label">Pontos Totais</div>
                </div>
                {% if user.team_id %}
                <div class="stat-card">
                    <div class="stat-icon">👥</div>
                    <div class="stat-value">{{ user.team.name }}</div>
                    <div class="stat-label">Equipe</div>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Solves Section -->
        {% if user.solves %}
        <div class="profile-section">
            <h2 class="section-title">Resolve</h2>
            <table class="solves-table">
                <thead>
                    <tr>
                        <th>Desafio</th>
                        <th>Categoria</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody>
                    {% for solve in user.solves %}
                    <tr>
                        <td>{{ solve.challenge.name }}</td>
                        <td><span class="category-badge">{{ solve.challenge.category }}</span></td>
                        <td>{{ solve.challenge.value }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </section>
</div>
{% endblock %}
