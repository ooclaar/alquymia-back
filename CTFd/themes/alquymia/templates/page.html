{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="hero-content">
        <div class="hero-badge" data-aos="fade-down">
            <span class="badge-text">4¬™ EDI√á√ÉO</span>
        </div>
        <h1 class="hero-title" data-aos="fade-up" data-aos-delay="200">
            BEM-VINDO AO<br>
            <span class="highlight">{{ Configs.ctf_name }}</span>
        </h1>
        <p class="hero-subtitle" data-aos="fade-up" data-aos-delay="400">
            {{ Configs.ctf_description or "UM CTF FEITO DA COMUNIDADE PARA A COMUNIDADE" }}
        </p>
        
        <!-- Cron√¥metro Regressivo (s√≥ aparece antes do evento) -->
        <div id="countdown-section" style="display: none; margin: 3rem 0;">
            <div class="countdown-wrapper" style="max-width: 800px; margin: 0 auto;">
                <p class="countdown-subtitle" style="font-size: 1.2rem; margin-bottom: 1.5rem; color: #fff;">O evento come√ßar√° em:</p>
                <div class="countdown-timer">
                    <div class="time-box">
                        <span id="days-home" class="time-value">00</span>
                        <span class="time-label">Dias</span>
                    </div>
                    <div class="time-box">
                        <span id="hours-home" class="time-value">00</span>
                        <span class="time-label">Horas</span>
                    </div>
                    <div class="time-box">
                        <span id="minutes-home" class="time-value">00</span>
                        <span class="time-label">Minutos</span>
                    </div>
                    <div class="time-box">
                        <span id="seconds-home" class="time-value">00</span>
                        <span class="time-label">Segundos</span>
                    </div>
                </div>
                <p class="countdown-info" style="margin-top: 1.5rem; font-size: 0.95rem; color: #a0a0a0;">
                    <i class="fas fa-calendar-alt"></i> In√≠cio: 21/11/2025 √†s 18:00 (GMT-3)<br>
                    <i class="fas fa-calendar-check"></i> T√©rmino: 23/11/2025 √†s 23:00 (GMT-3)
                </p>
            </div>
        </div>
        
        <div class="hero-cta" data-aos="fade-up" data-aos-delay="600">
            {% if User.id %}
                <a href="{{ url_for('challenges.listing') }}" class="btn btn-primary">
                    <span>VER DESAFIOS</span>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
                <a href="{{ url_for('scoreboard.listing') }}" class="btn btn-secondary">VER CLASSIFICA√á√ÉO</a>
            {% else %}
                <a href="{{ url_for('auth.register') }}" class="btn btn-primary">
                    <span>INSCREVA-SE AGORA</span>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
                <a href="#sobre" class="btn btn-secondary">SAIBA MAIS</a>
            {% endif %}
        </div>
        {% if Configs.start and Configs.end %}
        <div class="hero-stats" data-aos="fade-up" data-aos-delay="800">
            <div class="stat-item">
                <div class="stat-number">21/11</div>
                <div class="stat-label">In√≠cio: 18h</div>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <div class="stat-number">23/11</div>
                <div class="stat-label">Fim: 23h</div>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <div class="stat-number">8+</div>
                <div class="stat-label">Categorias</div>
            </div>
        </div>
        {% endif %}
    </div>
    <div class="hero-scroll">
        <div class="scroll-indicator">
            <span></span>
        </div>
    </div>
</section>

<!-- Sobre a Comunidade -->
<section id="sobre" class="section section-about">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-tag">QUEM SOMOS</span>
            <h2 class="section-title">Alquymia CTF</h2>
        </div>
        <div class="about-content">
            <div class="about-text" data-aos="fade-right">
                <p>
                    Uma competi√ß√£o de seguran√ßa cibern√©tica feita pela comunidade para a comunidade. Teste suas habilidades em desafios de criptografia, web exploitation, forense digital e muito mais!
                </p>
                <div class="about-features">
                    <div class="feature-item">
                        <div class="feature-icon">üéØ</div>
                        <div class="feature-text">
                            <h4>Aprendizado Pr√°tico</h4>
                            <p>Exerc√≠cios hands-on e desafios reais</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ü§ù</div>
                        <div class="feature-text">
                            <h4>Comunidade Ativa</h4>
                            <p>Network com profissionais de todo Brasil</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üöÄ</div>
                        <div class="feature-text">
                            <h4>Crescimento Cont√≠nuo</h4>
                            <p>Eventos, workshops e competi√ß√µes regulares</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="about-visual" data-aos="fade-left">
                <div class="visual-card">
                    <div class="card-glow"></div>
                    <div class="card-content">
                        <div class="terminal-header">
                            <span class="terminal-dot red"></span>
                            <span class="terminal-dot yellow"></span>
                            <span class="terminal-dot green"></span>
                        </div>
                        <div class="terminal-body">
                            <p><span class="prompt">$</span> whoami</p>
                            <p class="output">Alquymia CTF</p>
                            <p><span class="prompt">$</span> cat mission.txt</p>
                            <p class="output">Transformar vidas atrav√©s do</p>
                            <p class="output">conhecimento em Cyber Seguran√ßa</p>
                            <p><span class="prompt cursor">‚ñà</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- O Evento -->
<section id="evento" class="section section-event">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-tag">{{ Configs.ctf_name }}</span>
            <h2 class="section-title">O Campo de Batalha Supremo</h2>
            <p class="section-description">
                Prepare-se para uma competi√ß√£o intensa onde suas habilidades em seguran√ßa cibern√©tica 
                ser√£o desafiadas ao m√°ximo. Teste seus conhecimentos, supere os concorrentes e mostre que voc√™ est√° entre os melhores.
            </p>
        </div>
        <div class="event-grid">
            <div class="event-card" data-aos="fade-up" data-aos-delay="100">
                <div class="event-card-icon">üîê</div>
                <h3>Criptografia</h3>
                <p>Decifre c√≥digos complexos, quebre cifras e domine t√©cnicas de criptoan√°lise.</p>
            </div>
            <div class="event-card" data-aos="fade-up" data-aos-delay="200">
                <div class="event-card-icon">üåê</div>
                <h3>Web Exploitation</h3>
                <p>Explore vulnerabilidades em aplica√ß√µes web, desde SQL Injection at√© XSS.</p>
            </div>
            <div class="event-card" data-aos="fade-up" data-aos-delay="300">
                <div class="event-card-icon">üîç</div>
                <h3>An√°lise Forense</h3>
                <p>Investigue evid√™ncias digitais, analise logs e descubra pistas escondidas.</p>
            </div>
            <div class="event-card" data-aos="fade-up" data-aos-delay="400">
                <div class="event-card-icon">üñºÔ∏è</div>
                <h3>Esteganografia</h3>
                <p>Encontre mensagens ocultas em imagens, √°udios e v√≠deos.</p>
            </div>
            <div class="event-card" data-aos="fade-up" data-aos-delay="500">
                <div class="event-card-icon">‚öôÔ∏è</div>
                <h3>Reverse Engineering</h3>
                <p>Desmonte bin√°rios, analise c√≥digo assembly e descubra como programas funcionam.</p>
            </div>
            <div class="event-card" data-aos="fade-up" data-aos-delay="600">
                <div class="event-card-icon">üéØ</div>
                <h3>MISC</h3>
                <p>Desafios diversos que testam sua criatividade e pensamento lateral.</p>
            </div>
            <div class="event-card" data-aos="fade-up" data-aos-delay="700">
                <div class="event-card-icon">üîé</div>
                <h3>OSINT</h3>
                <p>Utilize t√©cnicas de intelig√™ncia de fontes abertas para coletar informa√ß√µes.</p>
            </div>
            <div class="event-card" data-aos="fade-up" data-aos-delay="800">
                <div class="event-card-icon">üì°</div>
                <h3>Wireless</h3>
                <p>Explore vulnerabilidades em redes sem fio e domine seguran√ßa wireless.</p>
            </div>
        </div>
    </div>
</section>

<!-- Premia√ß√£o -->
<section id="premiacao" class="section section-awards">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-tag">RECOMPENSAS</span>
            <h2 class="section-title">Premia√ß√£o</h2>
            <p class="section-description">
                Os melhores competidores ser√£o reconhecidos e premiados por seu desempenho excepcional.
            </p>
        </div>
        <div class="awards-grid">
            <div class="award-card second" data-aos="fade-up" data-aos-delay="100">
                <div class="award-medal">
                    <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
                        <circle cx="30" cy="30" r="28" fill="#C0C0C0" stroke="#A8A8A8" stroke-width="2"/>
                        <text x="30" y="40" font-size="24" font-weight="bold" fill="#fff" text-anchor="middle">2¬∫</text>
                    </svg>
                </div>
                <h3>Segundo Lugar</h3>
                <div class="award-prize">Pr√™mios e Certificado</div>
                <ul class="award-benefits">
                    <li>Certificado de Reconhecimento</li>
                    <li>Pr√™mios dos Patrocinadores</li>
                    <li>Destaque na Comunidade</li>
                </ul>
            </div>
            <div class="award-card first" data-aos="fade-up">
                <div class="award-badge">CAMPE√ÉO</div>
                <div class="award-medal">
                    <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                        <circle cx="40" cy="40" r="38" fill="#FFD700" stroke="#FFA500" stroke-width="2"/>
                        <text x="40" y="52" font-size="32" font-weight="bold" fill="#fff" text-anchor="middle">1¬∫</text>
                    </svg>
                </div>
                <h3>Primeiro Lugar</h3>
                <div class="award-prize">Pr√™mios Especiais</div>
                <ul class="award-benefits">
                    <li>Certificado de Campe√£o</li>
                    <li>Pr√™mios Exclusivos</li>
                    <li>Reconhecimento Nacional</li>
                    <li>Trof√©u de Campe√£o</li>
                </ul>
            </div>
            <div class="award-card third" data-aos="fade-up" data-aos-delay="200">
                <div class="award-medal">
                    <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
                        <circle cx="30" cy="30" r="28" fill="#CD7F32" stroke="#B8722C" stroke-width="2"/>
                        <text x="30" y="40" font-size="24" font-weight="bold" fill="#fff" text-anchor="middle">3¬∫</text>
                    </svg>
                </div>
                <h3>Terceiro Lugar</h3>
                <div class="award-prize">Pr√™mios e Certificado</div>
                <ul class="award-benefits">
                    <li>Certificado de Reconhecimento</li>
                    <li>Pr√™mios dos Patrocinadores</li>
                    <li>Destaque na Comunidade</li>
                </ul>
            </div>
        </div>
        <div class="awards-note" data-aos="fade-up" data-aos-delay="300">
            <p>üí° Todos os participantes receber√£o certificado de participa√ß√£o e ter√£o acesso aos write-ups dos desafios ap√≥s o evento.</p>
        </div>
    </div>
</section>

<!-- Patrocinadores -->
<section id="patrocinadores" class="section section-sponsors">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-tag">APOIO</span>
            <h2 class="section-title">Patrocinadores</h2>
            <p class="section-description">
                Empresas e organiza√ß√µes que tornam este evento poss√≠vel.
            </p>
        </div>
        <div class="sponsors-grid" data-aos="fade-up" data-aos-delay="200">
            <div class="sponsor-item">
                <img src="/themes/alquymia/static/img/logo_desec.webp" alt="DESEC" onerror="this.style.display='none'">
            </div>
            <div class="sponsor-item">
                <img src="/themes/alquymia/static/img/logo_fiap.webp" alt="FIAP" onerror="this.style.display='none'">
            </div>
            <div class="sponsor-item">
                <img src="/themes/alquymia/static/img/logo_acaditi.webp" alt="ACADITI" onerror="this.style.display='none'">
            </div>
            <div class="sponsor-item">
                <img src="/themes/alquymia/static/img/logo_extreme_hacking.webp" alt="Extreme Hacking" onerror="this.style.display='none'">
            </div>
        </div>
    </div>
</section>

<!-- Parceiros e Apoiadores -->
<section class="section section-partners">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-tag">COMUNIDADE</span>
            <h2 class="section-title">Parceiros e Apoiadores</h2>
        </div>
        <div class="partners-grid" data-aos="fade-up" data-aos-delay="200">
            <div class="partner-item">
                <img src="/themes/alquymia/static/img/logo_blau_araujo.webp" alt="Blau Araujo" onerror="this.style.display='none'">
            </div>
            <div class="partner-item">
                <img src="/themes/alquymia/static/img/logo_bula_anonima.webp" alt="Bula An√¥nima" onerror="this.style.display='none'">
            </div>
            <div class="partner-item">
                <img src="/themes/alquymia/static/img/logo_crowsec.webp" alt="Crowsec" onerror="this.style.display='none'">
            </div>
            <div class="partner-item">
                <img src="/themes/alquymia/static/img/logo_hacking.webp" alt="Hacking" onerror="this.style.display='none'">
            </div>
            <div class="partner-item">
                <img src="/themes/alquymia/static/img/logo_investiga_osint.webp" alt="Investiga OSINT" onerror="this.style.display='none'">
            </div>
            <div class="partner-item">
                <img src="/themes/alquymia/static/img/logo_menino.webp" alt="Menino" onerror="this.style.display='none'">
            </div>
            <div class="partner-item">
                <img src="/themes/alquymia/static/img/logo_sarah.webp" alt="SARAH" onerror="this.style.display='none'">
            </div>
            <div class="partner-item">
                <img src="/themes/alquymia/static/img/logo_hack_in_cariri.webp" alt="Hack In Cariri" onerror="this.style.display='none'">
            </div>
            <div class="partner-item">
                <img src="/themes/alquymia/static/img/logo_hakker_club.webp" alt="Hakker Club" onerror="this.style.display='none'">
            </div>
        </div>
    </div>
</section>

<!-- JavaScript para controlar exibi√ß√£o do cron√¥metro -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const countdownSection = document.getElementById('countdown-section');
    
    // Verificar se temos as datas configuradas
    if (!window.init || !window.init.start) {
        return; // Sem data de in√≠cio, n√£o mostrar cron√¥metro
    }
    
    const startDate = new Date(window.init.start * 1000);
    const now = new Date();
    
    // Se o CTF ainda n√£o come√ßou, mostrar cron√¥metro
    if (now < startDate) {
        countdownSection.style.display = 'block';
        
        // Atualizar cron√¥metro a cada segundo
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = startDate.getTime() - now;
            
            if (distance < 0) {
                // CTF come√ßou! Recarregar a p√°gina
                location.reload();
                return;
            }
            
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            document.getElementById('days-home').textContent = String(days).padStart(2, '0');
            document.getElementById('hours-home').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes-home').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds-home').textContent = String(seconds).padStart(2, '0');
        }
        
        updateCountdown();
        setInterval(updateCountdown, 1000);
    }
});
</script>
{% endblock %}

